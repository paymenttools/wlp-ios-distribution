{"kind":"article","identifier":{"url":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/GettingStarted","interfaceLanguage":"swift"},"primaryContentSections":[{"kind":"content","content":[{"level":2,"type":"heading","anchor":"overview","text":"Overview"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Configuration"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Registering a user’s device."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Retrieving, signing, and managing tokens for various payment operations."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Fetching payment means and payment tokens from the server.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Deactivate payment means","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Handling errors related to token and payment operations.","type":"text"}]}]}]},{"text":"Configuration","type":"heading","level":2,"anchor":"Configuration"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To instantiate an instance of "},{"isActive":true,"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPay","type":"reference"},{"type":"text","text":" please use  "},{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPay\/init(config:urlSessionConfiguration:)","isActive":true,"type":"reference"},{"type":"text","text":". The initializer has also an optional param called "},{"code":"urlSessionConfiguration","type":"codeVoice"},{"type":"text","text":", if you need to customize the URLSession configuration, please pass your custom config and WhitelabelPay will use it internally."}]},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"reference","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/Configuration","isActive":true},{"type":"text","text":" struc needs tree params:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Vendor’s "},{"inlineContent":[{"code":"tenanId","type":"codeVoice"}],"type":"strong"},{"text":" of type ","type":"text"},{"code":"String","type":"codeVoice"},{"type":"text","text":"."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"code":"environment","type":"codeVoice"}],"type":"strong"},{"text":" of type ","type":"text"},{"isActive":true,"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/Env","type":"reference"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"code":"azp","type":"codeVoice"}]},{"text":": JWT - Authorized party of type ","type":"text"},{"code":"String","type":"codeVoice"},{"type":"text","text":"."}]}]}]},{"name":"Important","type":"aside","style":"important","content":[{"inlineContent":[{"type":"text","text":"The host app will be responsible for keeping the reference to the "},{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPay","type":"reference","isActive":true},{"text":" instance.","type":"text"}],"type":"paragraph"}]},{"type":"paragraph","inlineContent":[{"text":"Example usage:","type":"text"}]},{"type":"codeListing","code":["func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {","","    let configuration = Configuration(tenantId: \"xx7xxx46-2297-4872-96xx-7xxx213xxxxx\",","                                      environment: .development,","                                      azp: \"wlp-integration-client\")","","    let whitelabel = WhitelabelPay(config: configuration)","","    \/\/ The instance has to be stored by the host app for future use.","","    return true","}"],"syntax":"swift"},{"name":"Tip","type":"aside","style":"tip","content":[{"inlineContent":[{"text":"Make sure to replace the parameters with valid values. The ones in this example are not valid!","type":"text"}],"type":"paragraph"}]},{"name":"Note","type":"aside","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"For testing the integration of the SDK in your host application, use the "},{"type":"codeVoice","code":"integration"},{"type":"text","text":" environment. Please make sure to switch the environment to "},{"code":"production","type":"codeVoice"},{"type":"text","text":" once you build your application for production."},{"type":"text","text":" "},{"type":"text","text":"The "},{"type":"codeVoice","code":"development"},{"text":" environment is unstable and should only be used if this has been advised by us.","type":"text"}]}]},{"text":"Synchronisation","type":"heading","level":2,"anchor":"Synchronisation"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In order to syncronise the SDK with the backend, call the async function "},{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPay\/sync()","isActive":true,"type":"reference"},{"type":"text","text":". The function will also return a "},{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPayState","type":"reference","isActive":true},{"type":"text","text":" enum which represents the new status. The function is marked as "},{"code":"@discardableResult","type":"codeVoice"},{"text":" so the return value can be ignored.","type":"text"}]},{"header":"row","type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"State"}]}],[{"inlineContent":[{"text":"Description","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPayState\/inactive","type":"reference","isActive":true}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"The device is not registered with the backend and no onboarding tokens are available."}]}]],[[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPayState\/onboarding"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Currently there are only onboarding tokens and the user is in the process of onboarding","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPayState\/active","isActive":true,"type":"reference"}],"type":"paragraph"}],[{"inlineContent":[{"text":"There is an active payment mean and the user can perform payments with it.","type":"text"}],"type":"paragraph"}]]]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Example usage:","type":"text"}]}]},{"syntax":"swift","code":["do {    ","    \/\/ Request an onboarding token.","    let token = try await whitelabel.getEnrolmentToken()","    ","    \/\/ Generate an aztec image with the signed value of the token.","    let data = try token.stringRepresentation","    \/\/ Draw the aztec code image. ","","} catch {","    print(\"Error during device registration: \\(error)\")","}"],"type":"codeListing"},{"anchor":"PaymentMeans","type":"heading","level":2,"text":"PaymentMeans"},{"inlineContent":[{"type":"text","text":"Request the list of payment means by calling "},{"type":"reference","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPay\/getPaymentMeans(fetchMode:)","isActive":true},{"type":"text","text":"."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"This function fetches the current list payment means. Currently only one payment means can be active and all the locally stored payment tokens will be part of this active payment means."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The function takes a parameter of type "},{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/FetchMode","isActive":true,"type":"reference"},{"type":"text","text":", this defines how the logic of retrieving the payment means."},{"type":"text","text":" "},{"text":"Use ","type":"text"},{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/FetchMode\/fromLocalFirst","type":"reference","isActive":true},{"text":" if you expect to have locally stored payment means and you want to retrieve them without waiting for the network request to finish. The SDK will check first for locally stored payment means and will return them, at the same time it will send a request on a differenct concurrency context to retrieve the most up to date list and will suppress any errors that could be triggered.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/FetchMode\/network"},{"text":", if you want to always make sure you retrieve the most up to date list, this will send a request to the server and will wait for the server response.","type":"text"}],"type":"paragraph"},{"type":"termList","items":[{"definition":{"content":[{"type":"paragraph","inlineContent":[{"text":"An asynchronous array of ","type":"text"},{"isActive":true,"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/PaymentMean","type":"reference"},{"type":"text","text":"."}]}]},"term":{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Returns"}]}]}}]},{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Example usage:","type":"text"}]}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["do {","    let paymentMeans = try await whitelabel.getPaymentMeans()","} catch {","    print(\"Error during payment means fetching: \\(error)\")","}"]},{"level":2,"type":"heading","text":"Performing a payment with a signed Token","anchor":"Performing-a-payment-with-a-signed-Token"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Retrieve a payment token by calling the async function "},{"type":"reference","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPay\/getPaymentToken(fetchMode:)","isActive":true}]},{"type":"paragraph","inlineContent":[{"text":"The function takes a parameter of type ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/FetchMode"},{"text":", this defines how the logic of retrieving the token.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Use "},{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/FetchMode\/fromLocalFirst","type":"reference","isActive":true},{"text":" if you expect to have locally stored tokens and you want to retrieve one without waiting for the network request to finish. The SDK will check first for locally stored tokens and will return the first one and at the same time it will send a request on a differenct concurrency context and will suppress any potential network errors.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Use "},{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/FetchMode\/network","isActive":true,"type":"reference"},{"text":", if you want to always make sure you retrieve the most fresh token, this will send a request to the server and will wait for the server response. Scenario: Use this option if the user did not perform a payment in a longer period of time.","type":"text"}]},{"inlineContent":[{"type":"text","text":"If there is no internet connection and there are locally stored tokens, it will return a signed token from the local storage."}],"type":"paragraph"},{"name":"Note","content":[{"inlineContent":[{"text":"Please note that currently there are only 5 tokens stored and when the user is in offline mode, calling ","type":"text"},{"code":"getPaymentToken()","type":"codeVoice"},{"type":"text","text":" multiple times can result in the token storage being emptied. So, keep in mind that requesting a token will automatically remove it from the offline storage even if it was not actually used for payment."}],"type":"paragraph"}],"style":"note","type":"aside"},{"type":"termList","items":[{"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"An asynchronous "},{"isActive":true,"type":"reference","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/Token"},{"type":"text","text":" of type "},{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/TokenType\/payment","type":"reference","isActive":true},{"text":" or ","type":"text"},{"type":"reference","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/TokenType\/onboarding","isActive":true},{"type":"text","text":" if no payment mean is active."}]}]},"term":{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Returns","type":"text"}]}]}}]},{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Example usage:"}],"type":"strong"}]},{"type":"codeListing","code":["do {","    let token = try await whitelabel.getPaymentToken()","","   \/\/ Generate an aztec image with the signed value of the token.","   let data = try token.stringRepresentation","   \/\/ Draw the aztec code image. ","   ...","} catch {","    print(\"Error during token fetching: \\(error)\")","}"],"syntax":"swift"},{"level":2,"type":"heading","text":"Payment Means Deactivation","anchor":"Payment-Means-Deactivation"},{"inlineContent":[{"type":"text","text":"Deactivates an active payment means."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"This function sends an HTTP request to the server to deactivate the specified payment means."},{"text":" ","type":"text"},{"text":"It also removes any associated tokens from storage. If the operation is successful, it returns ","type":"text"},{"type":"codeVoice","code":"True"},{"text":".","type":"text"}],"type":"paragraph"},{"items":[{"term":{"inlineContent":[{"inlineContent":[{"type":"text","text":"Parameter"}],"type":"strong"},{"text":" ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"paymentMeansId"}]}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"text":"The identifier of the payment means to deactivate.","type":"text"}]}]}},{"term":{"inlineContent":[{"inlineContent":[{"type":"text","text":"Returns"}],"type":"strong"}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"code":"true","type":"codeVoice"},{"type":"text","text":" if the deactivation was successful, "},{"code":"false","type":"codeVoice"},{"text":" otherwise.","type":"text"}]}]}},{"term":{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Throws"}]}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPayError\/failureToRetrievePaymentMeans(_:)"},{"type":"text","text":" if an error occurs during the deactivation process."}]}]}}],"type":"termList"},{"name":"Tip","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Be sure to handle the potential errors this function might throw."}]}],"style":"tip","type":"aside"},{"inlineContent":[{"inlineContent":[{"type":"text","text":"Example usage"}],"type":"strong"},{"text":":","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["do {","    let isSuccess = try await whitelabel.deactivatePaymentMeans(paymentMeansId: someId)","    if isSuccess {","        print(\"Payment means successfully deactivated.\")","    } else {","        print(\"Failed to deactivate payment means.\")","    }","} catch {","    print(\"Error during payment means deactivation: \\(error)\")","}"]},{"level":3,"type":"heading","anchor":"Transactions-available-in-future-versions","text":"Transactions - available in future versions"},{"inlineContent":[{"type":"text","text":"Fetch payment transactions from the server."}],"type":"paragraph"},{"inlineContent":[{"text":"This function sends an HTTP request to the server to fetch payment transactions.","type":"text"},{"type":"text","text":" "},{"text":"It returns an array of ","type":"text"},{"code":"TransactionDTO","type":"codeVoice"},{"text":" objects, representing payment transactions.","type":"text"}],"type":"paragraph"},{"items":[{"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"An asynchronous array of "},{"type":"codeVoice","code":"TransactionDTO"},{"type":"text","text":" representing payment transactions."}]}]},"term":{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Returns","type":"text"}]}]}}],"type":"termList"},{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Example usage","type":"text"}],"type":"strong"},{"text":":","type":"text"}]},{"type":"codeListing","code":["   let transactions = try await whitelabel.fetchTransactions()"],"syntax":"swift"},{"content":[{"type":"paragraph","inlineContent":[{"text":"This feature will be available in a future release.","type":"text"}]}],"type":"aside","style":"warning","name":"Warning"},{"text":"Reseting","type":"heading","anchor":"Reseting","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Purge all SDK data from the device’s keychain."}]},{"inlineContent":[{"type":"text","text":"This function calls the "},{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPay\/reset()","isActive":true,"type":"reference"},{"text":" method from the ","type":"text"},{"code":"store","type":"codeVoice"},{"text":" object which is responsible for erasing all stored data from the device’s keychain.","type":"text"}],"type":"paragraph"},{"type":"termList","items":[{"term":{"inlineContent":[{"inlineContent":[{"text":"Throws","type":"text"}],"type":"strong"}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If any error occurs during data removal, might happen if the app has troubles accessing the keychain."}]}]}}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use this function with caution, as it will permanently remove all SDK data including the enrollment\/registration status."}]}],"type":"aside","name":"Tip","style":"tip"},{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Example usage"}]},{"type":"text","text":":"}],"type":"paragraph"},{"code":["\ttry whitelabel.reset()"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"anchor":"Environments","text":"Environments"},{"name":"Warning","content":[{"inlineContent":[{"type":"text","text":"When switching the environment please make sure you also call the reset() func. If you miss that the SDK will be in an incositent state that will result in getting authorization errors."}],"type":"paragraph"}],"style":"warning","type":"aside"},{"anchor":"Data-Collection","text":"Data Collection","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"text":"PaymentTools SDK does not store or collect personal or app related data other than an unique identifier generated when the SDK is initialized for identification purposes.","type":"text"}]}]}],"sections":[],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/whitelabelpaysdk\/gettingstarted"]}],"metadata":{"modules":[{"name":"WhitelabelPaySDK"}],"roleHeading":"Article","title":"Getting Started with WhitelabelPay","role":"article"},"schemaVersion":{"major":0,"minor":3,"patch":0},"hierarchy":{"paths":[["doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK"]]},"abstract":[{"type":"text","text":"The SDK is a convienient wrapper around the White Label Rest API. It provides a way solution to register the user device and store tokens for offline usage."}],"references":{"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/WhitelabelPay":{"type":"topic","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPay","role":"symbol","url":"\/documentation\/whitelabelpaysdk\/whitelabelpay","abstract":[{"type":"text","text":"WhitelabelPay SDK to enroll into the Payment Tools White Label Pay program."},{"type":"text","text":" "},{"type":"text","text":"After successful enrollment you can retrieve or remove payment tokens."},{"type":"text","text":" "},{"type":"text","text":"Public private key, device id, enrollment and payment tokens are"},{"text":" ","type":"text"},{"text":"stored on the device keychain.","type":"text"}],"title":"WhitelabelPay","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"WhitelabelPay"}],"navigatorTitle":[{"text":"WhitelabelPay","kind":"identifier"}],"kind":"symbol"},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/Env":{"navigatorTitle":[{"kind":"identifier","text":"Env"}],"title":"Env","type":"topic","role":"symbol","url":"\/documentation\/whitelabelpaysdk\/env","abstract":[{"type":"text","text":"The "},{"type":"codeVoice","code":"Env"},{"type":"text","text":" defines on which environment the SDK should Run."}],"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/Env","kind":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Env"}]},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/WhitelabelPayState/onboarding":{"kind":"symbol","title":"WhitelabelPayState.onboarding","url":"\/documentation\/whitelabelpaysdk\/whitelabelpaystate\/onboarding","abstract":[{"text":"The SDK could have previously onboarded but it currently does not have any active payment means.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"This is usually the case when the user payment means expired or the initial onboarding failed."},{"text":" ","type":"text"},{"type":"text","text":"The SDK at this point is registered with the PaymentTools backend and has a subjectId."}],"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPayState\/onboarding","role":"symbol","type":"topic","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"onboarding","kind":"identifier"}]},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/WhitelabelPay/init(config:urlSessionConfiguration:)":{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPay\/init(config:urlSessionConfiguration:)","kind":"symbol","url":"\/documentation\/whitelabelpaysdk\/whitelabelpay\/init(config:urlsessionconfiguration:)","role":"symbol","abstract":[{"text":"Main initializer for ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPay"},{"type":"text","text":"."}],"title":"init(config:urlSessionConfiguration:)","fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"text":"config","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:16WhitelabelPaySDK13ConfigurationV","text":"Configuration","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"urlSessionConfiguration"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSURLSessionConfiguration","text":"URLSessionConfiguration"},{"kind":"text","text":"?) "},{"text":"throws","kind":"keyword"}],"type":"topic"},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/WhitelabelPay/getPaymentToken(fetchMode:)":{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPay\/getPaymentToken(fetchMode:)","kind":"symbol","type":"topic","abstract":[{"type":"text","text":"Request a token, this will be  a payment token from the current active payment means."},{"type":"text","text":" "},{"type":"text","text":"If a payment token will be retrieved, it will also be automatically purged from the local storage in order"},{"type":"text","text":" "},{"type":"text","text":"to avoid storing potentially used tokens."}],"title":"getPaymentToken(fetchMode:)","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"getPaymentToken","kind":"identifier"},{"kind":"text","text":"("},{"text":"fetchMode","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:16WhitelabelPaySDK9FetchModeO","text":"FetchMode"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"text":" -> ","kind":"text"},{"preciseIdentifier":"s:16WhitelabelPaySDK5TokenP","text":"Token","kind":"typeIdentifier"}],"role":"symbol","url":"\/documentation\/whitelabelpaysdk\/whitelabelpay\/getpaymenttoken(fetchmode:)"},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/PaymentMean":{"abstract":[],"type":"topic","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/PaymentMean","kind":"symbol","role":"symbol","url":"\/documentation\/whitelabelpaysdk\/paymentmean","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"PaymentMean","kind":"identifier"}],"navigatorTitle":[{"text":"PaymentMean","kind":"identifier"}],"title":"PaymentMean"},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK":{"abstract":[],"type":"topic","url":"\/documentation\/whitelabelpaysdk","kind":"symbol","role":"collection","title":"WhitelabelPaySDK","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK"},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/FetchMode/network":{"url":"\/documentation\/whitelabelpaysdk\/fetchmode\/network","abstract":[{"text":"The SDK will send the network request right away without checking for locally stored tokens.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Can be usefull when the user didn’t used whitelabel pay for a long time."}],"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/FetchMode\/network","fragments":[{"kind":"keyword","text":"case"},{"text":" ","kind":"text"},{"text":"network","kind":"identifier"}],"role":"symbol","kind":"symbol","type":"topic","title":"FetchMode.network"},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/WhitelabelPay/sync()":{"type":"topic","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPay\/sync()","role":"symbol","url":"\/documentation\/whitelabelpaysdk\/whitelabelpay\/sync()","abstract":[{"type":"text","text":"Sync the local SDK state with the backend."},{"type":"text","text":" "},{"text":"Should be called whenever appropriate to have the SDK in a synced state.","type":"text"}],"title":"sync()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"sync","kind":"identifier"},{"text":"() ","kind":"text"},{"kind":"keyword","text":"async"},{"text":" -> ","kind":"text"},{"kind":"typeIdentifier","text":"WhitelabelPayState","preciseIdentifier":"s:16WhitelabelPaySDK0aB5StateO"}],"kind":"symbol"},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/Token":{"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/Token","title":"Token","role":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Token"}],"abstract":[],"type":"topic","url":"\/documentation\/whitelabelpaysdk\/token","navigatorTitle":[{"text":"Token","kind":"identifier"}],"kind":"symbol"},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/WhitelabelPayState/active":{"title":"WhitelabelPayState.active","kind":"symbol","url":"\/documentation\/whitelabelpaysdk\/whitelabelpaystate\/active","role":"symbol","fragments":[{"text":"case","kind":"keyword"},{"kind":"text","text":" "},{"text":"active","kind":"identifier"}],"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPayState\/active","type":"topic","abstract":[{"type":"text","text":"There is an active payment mean and the user can perform payments with it."}]},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/WhitelabelPayState/inactive":{"title":"WhitelabelPayState.inactive","kind":"symbol","url":"\/documentation\/whitelabelpaysdk\/whitelabelpaystate\/inactive","role":"symbol","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"inactive","kind":"identifier"}],"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPayState\/inactive","type":"topic","abstract":[{"type":"text","text":"The SDK is in the inactive state which means there was no enrolment at any point in time."},{"type":"text","text":" "},{"type":"text","text":"This is the state in which the SDK is after the first initialisation."}]},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/Configuration":{"title":"Configuration","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/Configuration","abstract":[{"type":"text","text":"SDK Configuration."}],"kind":"symbol","role":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Configuration"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Configuration"}],"url":"\/documentation\/whitelabelpaysdk\/configuration"},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/FetchMode/fromLocalFirst":{"title":"FetchMode.fromLocalFirst","kind":"symbol","url":"\/documentation\/whitelabelpaysdk\/fetchmode\/fromlocalfirst","role":"symbol","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"fromLocalFirst"}],"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/FetchMode\/fromLocalFirst","type":"topic","abstract":[{"type":"text","text":"Returns the token directly from the local storage if one exists."},{"type":"text","text":" "},{"type":"text","text":"If no tokens exist locally and there is a payment means active, the SDK will wait for the"},{"text":" ","type":"text"},{"type":"text","text":"network request to finish."}]},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/WhitelabelPayState":{"abstract":[{"text":"The State in which represents the current state of the SDK.","type":"text"},{"type":"text","text":" "},{"text":"Use ","type":"text"},{"type":"codeVoice","code":"@Published var state"},{"text":" to observe the state changes.","type":"text"}],"type":"topic","navigatorTitle":[{"kind":"identifier","text":"WhitelabelPayState"}],"role":"symbol","kind":"symbol","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"WhitelabelPayState"}],"title":"WhitelabelPayState","url":"\/documentation\/whitelabelpaysdk\/whitelabelpaystate","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPayState"},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/TokenType/onboarding":{"title":"TokenType.onboarding","kind":"symbol","url":"\/documentation\/whitelabelpaysdk\/tokentype\/onboarding","role":"symbol","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"onboarding","kind":"identifier"}],"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/TokenType\/onboarding","type":"topic","abstract":[]},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/WhitelabelPay/reset()":{"type":"topic","url":"\/documentation\/whitelabelpaysdk\/whitelabelpay\/reset()","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPay\/reset()","abstract":[{"text":"Purge all SDK data. This will effectively reset the SDK for a clean start.","type":"text"}],"title":"reset()","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"reset","kind":"identifier"},{"text":"() ","kind":"text"},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"}],"kind":"symbol","role":"symbol"},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/WhitelabelPayError/failureToRetrievePaymentMeans(_:)":{"title":"WhitelabelPayError.failureToRetrievePaymentMeans(_:)","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPayError\/failureToRetrievePaymentMeans(_:)","kind":"symbol","url":"\/documentation\/whitelabelpaysdk\/whitelabelpayerror\/failuretoretrievepaymentmeans(_:)","role":"symbol","type":"topic","abstract":[{"text":"Thrown when either the SDK fails to load the payment means from the Keychain or","type":"text"},{"text":" ","type":"text"},{"text":"the network request has failed in case one was sent. Check the associated value \/ error","type":"text"},{"type":"text","text":" "},{"type":"text","text":"for more details about the failure reason."}],"fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"failureToRetrievePaymentMeans"},{"kind":"text","text":"("},{"text":"Error","kind":"typeIdentifier","preciseIdentifier":"s:s5ErrorP"},{"text":")","kind":"text"}]},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/WhitelabelPay/getPaymentMeans(fetchMode:)":{"kind":"symbol","abstract":[{"type":"text","text":"Request the payment means list."}],"title":"getPaymentMeans(fetchMode:)","type":"topic","role":"symbol","identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/WhitelabelPay\/getPaymentMeans(fetchMode:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"getPaymentMeans"},{"kind":"text","text":"("},{"kind":"externalParam","text":"fetchMode"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"FetchMode","preciseIdentifier":"s:16WhitelabelPaySDK9FetchModeO"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> ["},{"preciseIdentifier":"s:16WhitelabelPaySDK11PaymentMeanV","kind":"typeIdentifier","text":"PaymentMean"},{"text":"]","kind":"text"}],"url":"\/documentation\/whitelabelpaysdk\/whitelabelpay\/getpaymentmeans(fetchmode:)"},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/FetchMode":{"navigatorTitle":[{"kind":"identifier","text":"FetchMode"}],"title":"FetchMode","type":"topic","role":"symbol","url":"\/documentation\/whitelabelpaysdk\/fetchmode","abstract":[{"type":"text","text":"The specific mode which should be used to retrieve a token."},{"type":"text","text":" "},{"text":"This defines how the SDK returns the token","type":"text"}],"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/FetchMode","kind":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"FetchMode"}]},"doc://wlp-ios-sdk.WhitelabelPaySDK/documentation/WhitelabelPaySDK/TokenType/payment":{"title":"TokenType.payment","kind":"symbol","url":"\/documentation\/whitelabelpaysdk\/tokentype\/payment","role":"symbol","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"payment","kind":"identifier"}],"identifier":"doc:\/\/wlp-ios-sdk.WhitelabelPaySDK\/documentation\/WhitelabelPaySDK\/TokenType\/payment","type":"topic","abstract":[]}}}